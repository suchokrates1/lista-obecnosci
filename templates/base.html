<!DOCTYPE html>
<html lang="pl" data-bs-theme="light">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}ShareOKO{% endblock %}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  {% block head_extra %}{% endblock %}
</head>
<body class="bg-light">
  <a href="#main" class="visually-hidden-focusable">Przejd≈∫ do g≈Ç√≥wnej zawarto≈õci</a>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid justify-content-end gap-2">
      <a href="{{ url_for('routes.index') }}" class="btn btn-outline-light">Powr√≥t</a>
      {% if is_admin %}
      <a href="{{ url_for('routes.admin_settings') }}" class="btn btn-outline-light">Ustawienia</a>
      {% endif %}
      {% if current_user.is_authenticated %}
      <a href="{{ url_for('routes.logout') }}" class="btn btn-outline-danger">Wyloguj</a>
      {% endif %}
      <button class="btn btn-outline-light" id="themeToggle" onclick="toggleTheme()" aria-label="Prze≈ÇƒÖcz motyw">üåì</button>
    </div>
  </nav>
  <main id="main" class="container mt-5 mb-5">
    {% block content %}{% endblock %}
  </main>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    function applyTheme(t) {
      document.documentElement.setAttribute('data-bs-theme', t);
    }
    function toggleTheme() {
      const current = document.documentElement.getAttribute('data-bs-theme') === 'dark';
      const next = current ? 'light' : 'dark';
      applyTheme(next);
      localStorage.setItem('theme', next);
    }
    (function() {
      let theme = localStorage.getItem('theme');
      if (!theme) {
        theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
      }
      applyTheme(theme);
    })();
  </script>
  {% block scripts %}{% endblock %}
</body>
</html>
